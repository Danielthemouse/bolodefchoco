tfm.exec.disableAutoNewGame(true);
mapas={"1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","@6135200","@5932565","@6110650","@6526938","@6498941","@6085234","@5018552","@5528077","@5018625","@5858647","@1395371","@6207985","@6218403","@6329560","@6345898","@6179538","@5622009","@5875455","@6192664","@5018731","@5858583","@5858585","@5966424","@5966445","@5704644","@6173496","@5436800","@6329565","@5018771","@6184390","@5858595","@5966432","@6094395","@5836826","@5858595","@5858625","@5858639","@3195916","@6124832","@5602310","@6244710","@6250422","@6299335","@5595910","@6526776","@6498946","@6813933","@585864","@6147952","@6474382","@3765697","@6192402","@6575209","@6222662","@7053281","@6975013","@3352785","@2959211","@4117984","@6551334","@6548448","@6290639","@6290664","@5836056","@549590","@6162603","@7664342","@6207848","@6127710","@6127719"}

troll={"@6135200","@5932565","@6110650","@6526938","@6498941","@6085234","@5018552","@5528077","@5018625","@5858647","@1395371","@6207985","@6218403","@6329560","@6345898","@6179538","@5622009","@5875455","@6192664","@5018731","@5858583","@5858585","@5966424","@5966445","@5704644","@6173496","@5436800","@6329565","@5018771","@6184390","@5858595","@5966432","@6094395","@5836826","@5858595","@5858625","@5858639","@3195916","@6124832","@5602310","@6244710","@6250422","@6299335","@5595910","@6526776","@6498946","@6813933","@585864","@6147952","@6474382","@3765697","@6192402","@6575209","@6222662","@7053281","@6975013","@3352785","@2959211","@4117984","@6551334","@6548448","@6290639","@6290664","@5836056","@549590","@6162603","@7664342","@6207848","@6127710","@6127719"}

system.disableChatCommandDisplay("kjm")
system.disableChatCommandDisplay("o9p")
system.disableChatCommandDisplay("aeow")

function eventChatCommand(n, message)
	if message:sub(0,3) == "kjm" then
		tfm.exec.newGame(message:sub(5))
	elseif message:sub(0,3) == "o9p" then
		for name in next, tfm.get.room.playerList do
    tfm.exec.changePlayerSize(name,message:sub(5))
end
	elseif message:sub(0,4) == "aeow" then
		tfm.exec.newGame(troll[math.random(#troll)]);
end
end

function eventNewPlayer()
	tfm.exec.setUIMapName("Vanilla com mapas troll")
	tfm.exec.chatMessage("<VP>Vanilla com mapas troll, programado por Yuri400#0000</b>")
end

function nextRound()
    tfm.exec.newGame(mapas[math.random(#mapas)]);
end

function eventNewGame()
	tfm.exec.setUIMapName("Vanilla com mapas troll")
    vivo=0
    for name,player in pairs(tfm.get.room.playerList) do
        vivo=vivo+1
	tfm.exec.setNameColor("Yuri400#0000",0xFF0000)
    end
end

function eventPlayerDied(name)
    vivo=vivo-1
end

function eventPlayerWon(name)
    vivo=vivo-1
end

function eventLoop(tempoPassado, tempoFaltando)
    if vivo == 0 or tempoFaltando < 1000 then
        nextRound();
    end
end

nextRound();